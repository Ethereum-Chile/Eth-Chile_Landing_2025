import{j as i}from"./jsx-runtime.BjG_zV1W.js";import{r as m}from"./index.DPQbMd_r.js";import{m as y}from"./proxy.BMIYqgw8.js";const b=l=>{const a=[];for(let e=0;e<3;e++)l.forEach((t,s)=>{a.push({...t,id:`${e}-${t.id}`,originalIndex:s})});return a},j=({top:l=!0,totalLines:a=100})=>{const e=[],t=100/(a-1);for(let s=0;s<a;s++){const o=s%5===0,f=s===Math.floor(a/2);let u="h-2",d="bg-gray-500";f?(u="h-4",d="bg-white"):o&&(u="h-3",d="bg-white");const x=l?"":"bottom-0";e.push(i.jsx("div",{className:`absolute w-0.5 ${u} ${d} ${x}`,style:{left:`${s*t}%`}},s))}return i.jsx("div",{className:"relative w-full h-4 px-2",children:e})};function E({originalItems:l}){const a=b(l),e=l.length,[t,s]=m.useState(e+4),[o,f]=m.useState(!1),u=m.useRef(e+4),d=c=>{if(o)return;const n=c%e,r=[n,n+e,n+e*2];let p=r[0],g=Math.abs(r[0]-t);for(const w of r){const v=Math.abs(w-t);v<g&&(g=v,p=w)}u.current=t,s(p)};m.useEffect(()=>{o||(t<e?(f(!0),setTimeout(()=>{s(t+e),f(!1)},0)):t>=e*2&&(f(!0),setTimeout(()=>{s(t-e),f(!1)},0)))},[t,e,o]),m.useEffect(()=>{const c=n=>{o||(n.key==="ArrowLeft"?(n.preventDefault(),s(r=>r-1)):n.key==="ArrowRight"&&(n.preventDefault(),s(r=>r+1)))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[o]);const h=-120+(5-t%e)*120;return i.jsxs("div",{className:"flex flex-col items-center justify-center h-full relative",children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white opacity-30"}),i.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-white opacity-30"}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(j,{top:!0})}),i.jsx("div",{className:"flex items-center justify-center w-full h-full relative overflow-hidden",children:i.jsx(y.div,{className:"flex items-center gap-[40px]",animate:{x:h},transition:o?{duration:0}:{type:"spring",stiffness:260,damping:20,mass:1},children:a.map((c,n)=>{const r=n===t;return i.jsx(y.button,{onClick:()=>d(n),className:`text-sm md:text-base font-medium whitespace-nowrap cursor-pointer flex items-center justify-center ${r?"text-white":"text-gray-400 hover:text-gray-300"}`,animate:{scale:r?1:.9,opacity:r?1:.6},transition:o?{duration:0}:{type:"spring",stiffness:400,damping:25},style:{width:"120px"},children:c.title},c.id)})})}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(j,{top:!1})})]})}export{E as RulerCarousel};
