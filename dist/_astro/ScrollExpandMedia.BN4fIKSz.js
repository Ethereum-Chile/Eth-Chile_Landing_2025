import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r as s}from"./index.DPQbMd_r.js";import{m as a}from"./proxy.BMIYqgw8.js";const G=()=>{if(typeof window>"u")return"/imgs/campus_oriente_night.png";const r=new Date().getHours();return r>=6&&r<10?"/imgs/campus_oriente_sunwirse.png":r>=10&&r<20?"/imgs/campus_oriente_day.png":"/imgs/campus_oriente_night.png"},ee=({mediaType:r="video",mediaSrc:v,posterSrc:k,bgImageSrc:u,title:d,date:L,scrollToExpand:M,textBlend:D,children:T})=>{const[n,f]=s.useState(0),[$,m]=s.useState(!1),[x,h]=s.useState(!1),[j,y]=s.useState(0),[E,C]=s.useState(!1),[J,H]=s.useState(u||"/imgs/campus_oriente_night.png"),i=s.useRef(null),[B,W]=s.useState(1);s.useEffect(()=>{f(0),m(!1),h(!1)},[r]),s.useEffect(()=>{H(u||G())},[u]),s.useEffect(()=>{const t=o=>{if(!i.current)return;const l=i.current.getBoundingClientRect();if(l.top<=100&&l.bottom>=window.innerHeight-100){if(n>0&&n<1&&o.preventDefault(),x&&o.deltaY<0)h(!1),f(.99);else if(!x){const b=o.deltaY*.002,c=Math.min(Math.max(n+b,0),1);f(c),c>=1?(h(!0),m(!0)):c<.75&&m(!1)}}},g=o=>{if(!i.current)return;const l=i.current.getBoundingClientRect();l.top<=100&&l.bottom>=window.innerHeight-100&&y(o.touches[0].clientY)},N=o=>{if(!j||!i.current)return;const l=i.current.getBoundingClientRect();if(!(l.top<=100&&l.bottom>=window.innerHeight-100))return;n>0&&n<1&&o.preventDefault();const b=o.touches[0].clientY,c=j-b;if(x&&c<-50)h(!1),f(.99);else if(!x){const A=c*.01,_=Math.min(Math.max(n+A,0),1);f(_),_>=1?(h(!0),m(!0)):_<.75&&m(!1)}y(b)},S=()=>{y(0)},z=t,I=g,P=N,R=S;return window.addEventListener("wheel",z,{passive:!1}),window.addEventListener("touchstart",I,{passive:!1}),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",R),()=>{window.removeEventListener("wheel",z),window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",R)}},[n,x,j]),s.useEffect(()=>{const t=()=>{if(!i.current)return;const g=i.current.getBoundingClientRect(),N=window.innerHeight,S=Math.max(0,Math.min(1,(g.bottom-.2*g.height)/N));W(S)};return t(),window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[]),s.useEffect(()=>{const t=()=>{C(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const X=300+n*(E?650:1250),F=400+n*(E?200:400),w=n*(E?180:150),O=d?d.split(" ")[0]:"",V=d?d.split(" ").slice(1).join(" "):"",q=u||(()=>{const t=new Date().getHours();return t>=6&&t<10?"/imgs/campus_oriente_sunwirse.png":t>=10&&t<19?"/imgs/campus_oriente_day.png":"/imgs/campus_oriente_night.png"})();let p=1;return B<.2&&(p=B/.2,p<0&&(p=0)),e.jsx("div",{ref:i,className:"transition-colors duration-700 ease-in-out overflow-x-hidden relative",children:e.jsx("section",{className:"relative flex flex-col items-center justify-start min-h-[100vh]",children:e.jsxs("div",{className:"relative w-full flex flex-col items-center min-h-[100vh]",children:[e.jsxs(a.div,{className:"absolute inset-0 z-0 h-full",initial:{opacity:0},animate:{opacity:p},transition:{duration:.1},children:[e.jsx("img",{src:q,alt:"Background",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-black/10"})]}),e.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-start relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[100vh] relative",children:[e.jsxs("div",{className:"absolute z-0 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-none rounded-2xl",style:{width:`${X}px`,height:`${F}px`,maxWidth:"95vw",maxHeight:"85vh",boxShadow:"0px 0px 50px rgba(0, 0, 0, 0.3)"},children:[r==="video"?v.includes("youtube.com")?e.jsxs("div",{className:"relative w-full h-full pointer-events-none",children:[e.jsx("iframe",{width:"100%",height:"100%",src:v,className:"w-full h-full rounded-xl",style:{objectFit:"cover",objectPosition:"center"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),e.jsx("div",{className:"absolute inset-0 z-10",style:{pointerEvents:"none"}}),e.jsx(a.div,{className:"absolute inset-0 bg-black/30 rounded-xl",initial:{opacity:.7},animate:{opacity:.5-n*.3},transition:{duration:.2}})]}):e.jsxs("div",{className:"relative w-full h-full pointer-events-none",children:[e.jsx("video",{src:v,poster:k,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-cover rounded-xl",controls:!1,disablePictureInPicture:!0,disableRemotePlayback:!0}),e.jsx("div",{className:"absolute inset-0 z-10",style:{pointerEvents:"none"}}),e.jsx(a.div,{className:"absolute inset-0 bg-black/30 rounded-xl",initial:{opacity:.7},animate:{opacity:.5-n*.3},transition:{duration:.2}})]}):e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:v,alt:d||"Media content",className:"w-full h-full object-cover rounded-xl"}),e.jsx(a.div,{className:"absolute inset-0 bg-black/50 rounded-xl",initial:{opacity:.7},animate:{opacity:.7-n*.3},transition:{duration:.2}})]}),e.jsxs("div",{className:"flex flex-col items-center text-center relative z-10 mt-4 transition-none",children:[L&&e.jsx("p",{className:"text-2xl text-blue-200",style:{transform:`translateX(-${w}vw)`},children:L}),M&&e.jsx("p",{className:"text-blue-200 font-medium text-center",style:{transform:`translateX(${w}vw)`},children:M})]})]}),e.jsxs("div",{className:`flex items-center justify-center text-center gap-4 w-full relative z-10 transition-none flex-col ${D?"mix-blend-difference":"mix-blend-normal"}`,children:[e.jsx(a.h2,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-blue-200 transition-none",style:{transform:`translateX(-${w}vw)`},children:O}),e.jsx(a.h2,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-center text-blue-200 transition-none",style:{transform:`translateX(${w}vw)`},children:V})]})]}),e.jsx(a.section,{className:"flex flex-col w-full px-8 py-10 md:px-16 lg:py-20",initial:{opacity:0},animate:{opacity:$?1:0},transition:{duration:.7},children:T})]})]})})})};export{ee as default};
