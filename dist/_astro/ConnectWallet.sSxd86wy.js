import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r}from"./index.DPQbMd_r.js";function f(){const[s,l]=r.useState(!1),[c,o]=r.useState(null),[t,a]=r.useState(null),i=async()=>{l(!0),o(null);try{if(typeof window.ethereum>"u"){o("MetaMask is not installed. Please install MetaMask to connect your wallet.");return}const n=await window.ethereum.request({method:"eth_requestAccounts"});n.length>0&&(a(n[0]),setTimeout(()=>{window.location.href="/profile"},1e3))}catch(n){console.error("Connection error:",n),o("Failed to connect wallet. Please try again.")}finally{l(!1)}},d=()=>{a(null)},u=()=>t?t.slice(0,6)+"..."+t.slice(-4):"User";return t?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-white text-sm",children:u()}),e.jsx("button",{onClick:d,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:"Disconnect"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:i,disabled:s,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${s?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-white hover:bg-gray-100 text-black"}`,children:s?"Connecting...":"Connect Wallet"}),c&&e.jsx("div",{className:"text-red-400 text-xs mt-1 text-center max-w-xs",children:c})]})}export{f as ConnectWallet};
