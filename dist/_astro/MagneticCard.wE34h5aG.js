import{j as S}from"./jsx-runtime.BjG_zV1W.js";import{r as d}from"./index.DPQbMd_r.js";import{u as h,a as y}from"./use-transform.yJXVTdOs.js";import{f as A,i as E,J as N,M as J,m as x}from"./proxy.s-jORzaS.js";function F(t,e,o){const n=t.get();let s=null,c=n,r;const i=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{s&&(s.stop(),s=null)},p=()=>{u(),s=new N({keyframes:[V(t.get()),V(c)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:r})};t.attach((f,g)=>(c=f,r=m=>g(C(m,i)),A.postRender(p),t.get()),u);let l;return E(e)&&(l=e.on("change",f=>t.set(C(f,i))),t.on("destroy",l)),l}function C(t,e){return e?t+e:t}function V(t){return typeof t=="number"?t:parseFloat(t)}function v(t,e={}){const{isStatic:o}=d.useContext(J),n=()=>E(t)?t.get():t;if(o)return h(n);const s=y(n());return d.useInsertionEffect(()=>F(s,t,e),[s,JSON.stringify(e)]),s}function k({children:t,className:e="",strength:o=.15}){const n=d.useRef(null),[s,c]=d.useState(!1),r=y(0),i=y(0),u={damping:15,stiffness:150},p=v(r,u),l=v(i,u),f=h(l,[-.5,.5],["15deg","-15deg"]),g=h(p,[-.5,.5],["-15deg","15deg"]),m=M=>{if(!n.current)return;const a=n.current.getBoundingClientRect(),Y=a.left+a.width/2,b=a.top+a.height/2,j=(M.clientX-Y)/(a.width/2),w=(M.clientY-b)/(a.height/2);r.set(j*o),i.set(w*o)},R=()=>{c(!1),r.set(0),i.set(0)},X=()=>{c(!0)};return S.jsx(x.div,{ref:n,className:`relative ${e}`,onMouseMove:m,onMouseEnter:X,onMouseLeave:R,style:{transformStyle:"preserve-3d",perspective:"1000px"},animate:{scale:s?1.02:1,transition:{duration:.3,ease:"easeOut"}},children:S.jsx(x.div,{style:{rotateX:f,rotateY:g,transformStyle:"preserve-3d"},className:"w-full h-full",children:t})})}export{k as default};
